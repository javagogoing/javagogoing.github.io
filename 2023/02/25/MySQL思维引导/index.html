<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>MySQL思维引导 | DaiBlogger</title><meta name="author" content="DaiBlogger"><meta name="copyright" content="DaiBlogger"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MySQL数据库的安装MySQL简介MYSQL是主流数据库管理软件的其中一种，是瑞典一家公司研发的，2008年被sun公司收购，2009年sun又被Oracle(甲骨文)公司收购，所以现在属于Oracle公司产品 MYSQL是一款开源、免费的小型数据库管理系统，适合小型企业。 MySQL因为其速度、可靠性和适应性而备受关注。大多数人都认为在不需要事务化处理的情况下，MySQL是管理内容最好的选择。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL思维引导">
<meta property="og:url" content="http://example.com/2023/02/25/MySQL%E6%80%9D%E7%BB%B4%E5%BC%95%E5%AF%BC/index.html">
<meta property="og:site_name" content="DaiBlogger">
<meta property="og:description" content="MySQL数据库的安装MySQL简介MYSQL是主流数据库管理软件的其中一种，是瑞典一家公司研发的，2008年被sun公司收购，2009年sun又被Oracle(甲骨文)公司收购，所以现在属于Oracle公司产品 MYSQL是一款开源、免费的小型数据库管理系统，适合小型企业。 MySQL因为其速度、可靠性和适应性而备受关注。大多数人都认为在不需要事务化处理的情况下，MySQL是管理内容最好的选择。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/helloWorld.jpg">
<meta property="article:published_time" content="2023-02-25T01:02:29.000Z">
<meta property="article:modified_time" content="2023-03-01T02:01:48.855Z">
<meta property="article:author" content="DaiBlogger">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/helloWorld.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/02/25/MySQL%E6%80%9D%E7%BB%B4%E5%BC%95%E5%AF%BC/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL思维引导',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-01 10:01:48'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/helloWorld.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="DaiBlogger"><span class="site-name">DaiBlogger</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQL思维引导</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-02-25T01:02:29.000Z" title="发表于 2023-02-25 09:02:29">2023-02-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-01T02:01:48.855Z" title="更新于 2023-03-01 10:01:48">2023-03-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL思维引导"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="MySQL数据库的安装"><a href="#MySQL数据库的安装" class="headerlink" title="MySQL数据库的安装"></a><strong><font color=#87CEFA>MySQL数据库的安装</font></strong></h1><h2 id="MySQL简介"><a href="#MySQL简介" class="headerlink" title="MySQL简介"></a><strong><font color=#87CEFA>MySQL简介</font></strong></h2><p>MYSQL是主流数据库管理软件的其中一种，是瑞典一家公司研发的，2008年被sun公司收购，2009年sun又被Oracle(甲骨文)公司收购，所以现在属于Oracle公司产品</p>
<p>MYSQL是一款开源、免费的小型数据库管理系统，适合小型企业。</p>
<p>MySQL因为其速度、可靠性和适应性而备受关注。大多数人都认为在不需要事务化处理的情况下，MySQL是管理内容最好的选择。</p>
<p>MYSQL是基于客户机&#x2F;服务器（Client&#x2F;Server简称C&#x2F;S）的关系数据库管理系统 </p>
<h2 id="MySQL安装和配置后进入MySQL"><a href="#MySQL安装和配置后进入MySQL" class="headerlink" title="MySQL安装和配置后进入MySQL"></a><strong><font color=#87CEFA>MySQL安装和配置后进入MySQL</font></strong></h2><p>选择菜单—程序—MySQL—MySQLServer5.6—MySQL Command Line Client—输入密码：root</p>
<h2 id="CMD命令进行操作"><a href="#CMD命令进行操作" class="headerlink" title="CMD命令进行操作"></a><strong><font color=#87CEFA>CMD命令进行操作</font></strong></h2><pre><code>开始—[搜索程序和文件]内输入 CMD—进入
    cd D:\Program Files\MySQL\MySQL Server 5.6\bin（进入MySQL安装目录的bin目录）
    net start mtsql156（启动MySQL服务）
    mysql -u root -p（登录MySQL输入root修改后的当前有效密码）
    exit（退出MySQL）
    net stop mtsql156 （停止MySQL服务）
</code></pre>
<h2 id="Navicat的安装和使用"><a href="#Navicat的安装和使用" class="headerlink" title="Navicat的安装和使用"></a><strong><font color=#87CEFA>Navicat的安装和使用</font></strong></h2><p>Navicat for mysql的使用   </p>
<pre><code>创建连接：把“主机名或IP地址”改为：127.0.0.1
默认端口：3306  
用户名：root
密码：安装时自定义的 root
端口：指计算机用来与外围设备连接的接口。 
如果把IP地址比作一间房子，端口就是出入这间房子的门。每个门对应着某个进程。当主机接收到数据包后，根据端口号把数据发送到相应端口，而与此端口相对应的那个进程将会领取数据真正的房子只有几个门，但是一个IP地址的端口可以有65536个。不过从0~1024号端口都是系统端口，用户不能使用。只有从1025~65534端口是系统为用户预留的端口，可以使用。
</code></pre>
<h2 id="数据库的使用"><a href="#数据库的使用" class="headerlink" title="数据库的使用"></a><strong><font color=#87CEFA>数据库的使用</font></strong></h2><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a><strong><font color=#87CEFA>创建数据库</font></strong></h3><pre><code>creade database 数据库名称（小写）
</code></pre>
<h3 id="查看某个数据库的创建语句"><a href="#查看某个数据库的创建语句" class="headerlink" title="查看某个数据库的创建语句"></a><strong><font color=#87CEFA>查看某个数据库的创建语句</font></strong></h3><pre><code>show create database 数据库名
</code></pre>
<h3 id="创建数据库指定字符集"><a href="#创建数据库指定字符集" class="headerlink" title="创建数据库指定字符集"></a><strong><font color=#87CEFA>创建数据库指定字符集</font></strong></h3><pre><code>creade database 数据库名 character set 字符格式
</code></pre>
<h3 id="修改字符集"><a href="#修改字符集" class="headerlink" title="修改字符集"></a><strong><font color=#87CEFA>修改字符集</font></strong></h3><pre><code>default character set utf8

utf8:一种Unicode编码，解决国际上字符不统一的多字节编码，通用性强
    
</code></pre>
<h3 id="查看所有数据库"><a href="#查看所有数据库" class="headerlink" title="查看所有数据库"></a><strong><font color=#87CEFA>查看所有数据库</font></strong></h3><pre><code>show databases
</code></pre>
<h3 id="查看正在使用数据库"><a href="#查看正在使用数据库" class="headerlink" title="查看正在使用数据库"></a><strong><font color=#87CEFA>查看正在使用数据库</font></strong></h3><pre><code>select database();
</code></pre>
<h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a><strong><font color=#87CEFA>删除数据库</font></strong></h3><pre><code>drop database 数据库名称;
</code></pre>
<h3 id="删除数据库前判断，存在才删除"><a href="#删除数据库前判断，存在才删除" class="headerlink" title="删除数据库前判断，存在才删除"></a><strong><font color=#87CEFA>删除数据库前判断，存在才删除</font></strong></h3><pre><code>drop database if exists 数据库名;
</code></pre>
<h3 id="如果数据库存在则删除再建"><a href="#如果数据库存在则删除再建" class="headerlink" title="如果数据库存在则删除再建"></a><strong><font color=#87CEFA>如果数据库存在则删除再建</font></strong></h3><pre><code>drop database if exists 数据库名;
creade database 数据库名；
</code></pre>
<h3 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a><strong><font color=#87CEFA>选择数据库</font></strong></h3><pre><code>use 数据库名；
</code></pre>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a><strong><font color=#87CEFA>注释</font></strong></h3><p>单行注释</p>
<pre><code>-- （--后加空格）
# （也可以使用）
</code></pre>
<p>多行注释</p>
<pre><code>/*注释内容·*/
</code></pre>
<h3 id="MySQL数据库迁移、备份、还原"><a href="#MySQL数据库迁移、备份、还原" class="headerlink" title="MySQL数据库迁移、备份、还原"></a><strong><font color=#87CEFA>MySQL数据库迁移、备份、还原</font></strong></h3><h4 id="使用sql语句迁移"><a href="#使用sql语句迁移" class="headerlink" title="使用sql语句迁移"></a><strong><font color=#87CEFA>使用sql语句迁移</font></strong></h4><p>原库转储</p>
<pre><code>选中库-》转储sql文件-》选择路径-》开始
--只能生成表结构和数据的SQL语句，不会转储数据库
</code></pre>
<p>新数据库运行</p>
<pre><code>选中库（提前建好）-》运行sql文件-》选中文件·-》开始
</code></pre>
<h4 id="备份和还原备份"><a href="#备份和还原备份" class="headerlink" title="备份和还原备份"></a><strong><font color=#87CEFA>备份和还原备份</font></strong></h4><p>默认备份路径</p>
<pre><code>文档文档\Naviccat\MySQL\servers\数据库名文件夹
</code></pre>
<hr>
<h1 id="数据类型与约束"><a href="#数据类型与约束" class="headerlink" title="数据类型与约束"></a><strong><font color=#87CEFA>数据类型与约束</font></strong></h1><h2 id="表的操作"><a href="#表的操作" class="headerlink" title="表的操作"></a><strong><font color=#87CEFA>表的操作</font></strong></h2><p>查询数据库所有表</p>
<pre><code>show tables;
</code></pre>
<p>查询表结构</p>
<pre><code>desc 表名；
</code></pre>
<p>查询表的字符集</p>
<pre><code>show table status from 数据库名称 like &#39;表名&#39;
</code></pre>
<p>SQL建表</p>
<pre><code>use 数据库;-- 先切换到具体的数据库
drop table if exists classes;-- 判断存在则删除
create table classes(-- 创建班级表
    cid int not null, -- 列名 数据类型 约束
    cname varchar(20) null
);
    1.每条数据后面使用分号结束
    
    2.列和列之间使用逗号隔开，最后一列无需逗号
    
    3.默认有字符（zerofill），无符号（unsigned）
        
修改表名：
    alter table 表名 rename to 新表名

修改表的字符集：
    alter table 表名 character set 字符集名称

单独添加一列：
    alter table 表名 add 列名 数据类型；

修改某列的数据类型： 
    alter table 表名 modify 列名 新数据类型;

修改表中列名和数据类型： 
    alter table 表名 ghange 旧表名 新表名 新数据类型;

删除某一列：
    alyer table 表名 drop 列名;
</code></pre>
<h2 id="表的其他操作"><a href="#表的其他操作" class="headerlink" title="表的其他操作"></a><strong><font color=#87CEFA>表的其他操作</font></strong></h2><pre><code>复制表（仅结构）：
    create table 新表名 like 源表

结构数据复制：
    create table 新表名 select * from  源表;
</code></pre>
<h2 id="无符号（unsigned）"><a href="#无符号（unsigned）" class="headerlink" title="无符号（unsigned）"></a><strong><font color=#87CEFA>无符号（unsigned）</font></strong></h2><pre><code>unsigned   为“无符号”的意思 

unsigned   既为非负数，用此类型可以增加数据长度! 无符号unsigned 表示设置的的数据为0或者正数；
    例如： int -100～100 无符号范围就变成了 0～200

语法： 列名 类型 约束 unsigned
</code></pre>
<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a><strong><font color=#87CEFA>约束</font></strong></h2><h3 id="主键约束-primary-key"><a href="#主键约束-primary-key" class="headerlink" title="主键约束: primary key"></a><strong><font color=#87CEFA>主键约束: primary key</font></strong></h3><pre><code>删除主键约束：
    alter table 表名 drop primary ey

建表后添加：
    alter table 表名 modify 数据类型 primary key;
</code></pre>
<h3 id="标识列（自增）：auto-increment"><a href="#标识列（自增）：auto-increment" class="headerlink" title="	标识列（自增）：auto_increment"></a><strong><font color=#87CEFA>	标识列（自增）：auto_increment</font></strong></h3><pre><code>删除主键自增约束：
    alter table 表名 modify 列名 数据类型；

建表后添加：
    alter table 表名 modify 列名 数据类型 auto_increment;
</code></pre>
<h3 id="唯一键：unique"><a href="#唯一键：unique" class="headerlink" title="唯一键：unique"></a><strong><font color=#87CEFA>唯一键：unique</font></strong></h3><pre><code>删除唯一约束:
    alter table 表名 drop index 列名;

建表后添加：
    alter table 表名 modify 列名 数据类型 unique;
</code></pre>
<h3 id="非空约束：not-null"><a href="#非空约束：not-null" class="headerlink" title="	非空约束：not null"></a><strong><font color=#87CEFA>	非空约束：not null</font></strong></h3><pre><code>删除非空约束：
    alter table 表名 modify 列名 数据类型;

建表后添加约束：
    alter table 表名 modify 列名 数据类型 not null;
</code></pre>
<h3 id="默认约束：default"><a href="#默认约束：default" class="headerlink" title="	默认约束：default"></a><strong><font color=#87CEFA>	默认约束：default</font></strong></h3><pre><code>删除默认约束:alter table 表名 alter 列名 drop default;

建表后添加： alble table 表名 alter 列名 set default&#39;默认值&#39;;
</code></pre>
<h3 id="外键约束：foreign-key"><a href="#外键约束：foreign-key" class="headerlink" title="	外键约束：foreign key"></a><strong><font color=#87CEFA>	外键约束：foreign key</font></strong></h3><pre><code>语法：constraint 外键名 foreign key(本表外键列名) references 主表（主表主键列名）
列如：CONSTRAINT fk_classed_students FOREIGN KEY (scid) REFERENCES classed(cid)

删除外键约束：alter table 表名  drop foreign 外键名;
例如：ALTER TABLE students DROP FOREIGN KEY fk_classed_students;

建表后添加： alter table 表名 add constraint 外键名 foreign key （本表外键列名） references 主表名（主键列名）；
例如：ALTER TABLE students ADD CONSTRAINT fk_classed_students FOREIGN KEY (scid) REFERENCES classed(cid);
</code></pre>
<hr>
<h1 id="数据的操作"><a href="#数据的操作" class="headerlink" title="数据的操作"></a><strong><font color=#87CEFA>数据的操作</font></strong></h1><h2 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a><strong><font color=#87CEFA>增删改查</font></strong></h2><h3 id="增"><a href="#增" class="headerlink" title="增"></a><strong><font color=#87CEFA>增</font></strong></h3><pre><code>insert into 表名（’字段名‘） values(值1，值2)，（值1，值2）
</code></pre>
<h3 id="删"><a href="#删" class="headerlink" title="删"></a><strong><font color=#87CEFA>删</font></strong></h3><pre><code>-- 可以条件删除,标识列不重置,删除效率慢
delete from 表名 [where 条件表达式];

-- 整表删除,标识列重置,效率快
truncate table 表名;
</code></pre>
<h3 id="改"><a href="#改" class="headerlink" title="改"></a><strong><font color=#87CEFA>改</font></strong></h3><pre><code>update 表名 set 列1=值1,列2=值2,... [where 条件表达式];
</code></pre>
<h3 id="查"><a href="#查" class="headerlink" title="查"></a><strong><font color=#87CEFA>查</font></strong></h3><pre><code>select *|字段列表 from 表名 
[where 条件表达式]
[group by 分组字段 [having 分组后条件]]
[order by 排序字段 asc(升)|desc(降)]

1、字段列表可使用as取别名
2、判断null：is null  和 is not null
3、betwenn ··· and ··· 在 ··· 之间
4、in()  在… 之内
5、like 模糊查询   通配符：% _ （没有[])
6、not 取反  如：not in() 、 not like 、not between … and …
</code></pre>
<h4 id="group-concat-函数"><a href="#group-concat-函数" class="headerlink" title="group_concat()函数"></a><strong><font color=#87CEFA>group_concat()函数</font></strong></h4><pre><code>分组后，把其他列纵向拼接：
    select stusex,group_concat(stuname) from stuinfo GROUP BY stusex
    -- 如上：把同一性别的学生姓名拼接
</code></pre>
<h4 id="分页-查询部分行-：limit"><a href="#分页-查询部分行-：limit" class="headerlink" title="分页(查询部分行)：limit"></a><strong><font color=#87CEFA>分页(查询部分行)：limit</font></strong></h4><pre><code>select 列名 from 表 limit [start,] length;
start表示行索引(行索引从0开始),不填默认为0。length表示检索多少行
</code></pre>
<h4 id="去除重复数据：distinct"><a href="#去除重复数据：distinct" class="headerlink" title="去除重复数据：distinct"></a><strong><font color=#87CEFA>去除重复数据：distinct</font></strong></h4><pre><code>select distinct 列名 from 表;
select count(distinct 列名) from 表
</code></pre>
<h2 id="多表联查"><a href="#多表联查" class="headerlink" title="多表联查"></a><strong><font color=#87CEFA>多表联查</font></strong></h2><p>select *|字段列表 from 表1 连接方式 表2 on 表1.公共列&#x3D;表2.公共列</p>
<h3 id="连接方式"><a href="#连接方式" class="headerlink" title="连接方式"></a><strong><font color=#87CEFA>连接方式</font></strong></h3><pre><code>内连接：
    inner join  两表都有的数据
左外连接：
    left join 两表都有的数据及左表没有的数据
右外连接：
    right join 两表都有的数据及右表没有的数据
交叉连接：
    cross join 会产生笛卡尔积（两张表的乘积）交叉连接不能使用on关键字
</code></pre>
<h3 id="union"><a href="#union" class="headerlink" title="	union"></a><strong><font color=#87CEFA>	union</font></strong></h3><p>将两个查询结果合并为一个结果集</p>
<pre><code>select 字段列表1 from 表1
Union
Select 字段列表2 from 表2
</code></pre>
<p>注意：要求2个查询结构的字段列表个数和数据类型都必须一致合并结果时会去掉重复的数据</p>
<h3 id="union-all"><a href="#union-all" class="headerlink" title="union all"></a><strong><font color=#87CEFA>union all</font></strong></h3><p>和union用法相同，但合并结果不会去掉重复的数据</p>
<hr>
<h1 id="高级查询（子查询）"><a href="#高级查询（子查询）" class="headerlink" title="高级查询（子查询）"></a><strong><font color=#87CEFA>高级查询（子查询）</font></strong></h1><p>概念分析— 根据相关性分</p>
<pre><code>不相关子查询：
    一条Sql语句中含有多条SELECT语句，先执行子查询，再执行外查询，子查询可对立运行 
    关键字：
        先子查询，再外查询
        可以对立运行，即可以单独运行子查询，对外查询不干扰
    语句： select 列名 ， (select 单值  from 表名 where 条件) from 表名；
    
相关子查询：
    子查询不能独立运行，并且先运行外查询，再运行子查询   
    关键字：
        先外查询，再子查询
        子查询不能独立运行
    语句：select * from 表名 where 条件=(select 单值  from 表名 where 条件)
        
子查询的结果是单行单列 ，条件可以使用 = &gt; &lt; &gt;= &lt;= !=

子查询的结果是多值 ，条件可以使用 in 、 not in
</code></pre>
<hr>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a><strong><font color=#87CEFA>函数</font></strong></h1><h2 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a><strong><font color=#87CEFA>聚合函数</font></strong></h2><pre><code>统计：count()
求和：sm()
平均：avg()
最大值：max()
最小值：min()
</code></pre>
<h2 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a><strong><font color=#87CEFA>日期函数</font></strong></h2><pre><code>当前日期时间：now();
当前日期：curdateh()
当前时间：curtime()
当前系统日期时间：sysdate()
获取日期或时间中某个单位的整数：
    年份：year()
    月份：month()
    日：dayofmonth()
    小时：hour()
    分钟：minute()
    秒：second()
    一周中第几天（周一为0）：weekday()
    一年中的第几周：week()
    一年中的第几天：dayofyear()
</code></pre>
<h3 id="日期运算"><a href="#日期运算" class="headerlink" title="日期运算"></a><strong><font color=#87CEFA>日期运算</font></strong></h3><pre><code>计算d1-d2相差的天数：datediff(d1,d2)
在d日期的基础上增加n天:adddate(d,n)
在d日期时间的基础上增加/减少n单	位，type表示单位类型:date_add(d,interval n type)
    Select date_add(&#39;2016-01-01&#39;,interval 1 day); -- 2016-01-02
</code></pre>
<h3 id="日期单位"><a href="#日期单位" class="headerlink" title="日期单位"></a><strong><font color=#87CEFA>日期单位</font></strong></h3><img src="/imgs/sqldate.png">

<h3 id="格式转换"><a href="#格式转换" class="headerlink" title="格式转换"></a><strong><font color=#87CEFA>格式转换</font></strong></h3><pre><code>按照f格式显示d日期:date_format(d,f)
    Select date_format(now(), ‘%Y%m%d&#39;);-- 20160103
</code></pre>
<img src="/imgs/sqldate02.png">


<h2 id="数字函数"><a href="#数字函数" class="headerlink" title="数字函数"></a><strong><font color=#87CEFA>数字函数</font></strong></h2><pre><code>四舍五入后的整数:round()
四舍五入后的小数，y表示小数位数:round()
保留y位小数的值，只舍不入:truncate()
返回大于等于x的最小整数(向上取整):ceil()
与ceil相反，返回小于等于x的最大整数（向下取整) :floor()
产生一个0~1的小数：rand()
</code></pre>
<h2 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a><strong><font color=#87CEFA>字符串函数</font></strong></h2><pre><code>concat(s1,s2,…):将多个字符串拼接
concat_ws(s,s1,s2,….):将多个字符串使用s进行拼接
char_length(s)：获取字符串字符长度
length(s):获取字符串字节长度
left(x,n):截取x字符串的前面n个字符
right(x,n):截取x字符串的后面n个字符
substring(x,start,length)：对x字符串进行截取，从start位置开始截取length个
Upper(s):转化为大写
Lower(s):转化为小写
replace(s1,s2,s3):在s1的字符串中查找s2字符串并替换成s3字符串
locate(substr,str) 查找substr在str中第一次出现的位置
locate(substr,str,pos) 查找substr在str中pos后第一次出现的位置
</code></pre>
<h2 id="md5"><a href="#md5" class="headerlink" title="md5"></a><strong><font color=#87CEFA>md5</font></strong></h2><pre><code>md5（s）：将字符串s转化为md5编码
特点
    md5编码:不可逆算法,无法反编译出原来的内容
    唯一算法：相同的内容生成相同的编码，不同的内容生成不同的编码
    
md5应用
    存储密码
    验证文件一致性
</code></pre>
<h2 id="类型转换函数"><a href="#类型转换函数" class="headerlink" title="类型转换函数"></a><strong><font color=#87CEFA>类型转换函数</font></strong></h2><pre><code>convert(x,type): 将x转换为type类型并返回
 type的取值
    字符类型：char(length)
    日期类型：date、time，datetime
    浮点型：decimal
    整数：signed
</code></pre>
<h2 id="条件函数"><a href="#条件函数" class="headerlink" title="条件函数"></a><strong><font color=#87CEFA>条件函数</font></strong></h2><pre><code>if(条件表达式,值1,值2)
        符合条件表达式返回值1，否则返回值2

ifnull(值1,值2)
        值1为null,返回值2，否则返回值1
</code></pre>
<h2 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a><strong><font color=#87CEFA>自定义函数</font></strong></h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a><strong><font color=#87CEFA>定义</font></strong></h3><pre><code>create function fn_test(id int)returns int
Begin
    set id=id+10;
    return id;
end;

定义函数注意事项：
    必须有返回类型
    函数名使用fn_开头命名
    函数中不能产生查询结果集
</code></pre>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a><strong><font color=#87CEFA>调用</font></strong></h3><pre><code>select fn_test(5); --结果为1
</code></pre>
<p>注意：可以在增删改查语句中使用函数，参数可以是列名</p>
<h3 id="删除函数"><a href="#删除函数" class="headerlink" title="删除函数"></a><strong><font color=#87CEFA>删除函数</font></strong></h3><pre><code>drop function 函数名
</code></pre>
<hr>
<h1 id="sql编程"><a href="#sql编程" class="headerlink" title="sql编程"></a><strong><font color=#87CEFA>sql编程</font></strong></h1><h2 id="变量的使用"><a href="#变量的使用" class="headerlink" title="变量的使用"></a><strong><font color=#87CEFA>变量的使用</font></strong></h2><h3 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a><strong><font color=#87CEFA>系统变量</font></strong></h3><p>特点</p>
<pre><code>以@@开头，由系统定义
</code></pre>
<p>常用的系统变量</p>
<pre><code>@@version：MySQL版本
@@last_insert_id:上一次添加记录的自增列的值
</code></pre>
<h3 id="会话变量"><a href="#会话变量" class="headerlink" title="会话变量"></a><strong><font color=#87CEFA>会话变量</font></strong></h3><p>特点</p>
<pre><code>以@开头在客户端的本次连接过程中可以使用，当客户端断开后，无法再使用
</code></pre>
<p>声明和赋值方式</p>
<pre><code>不需要单独的声明，在赋值的同时就创建了变量

set语句：set @变量名=值;
select语句：select 值 into 变量;
</code></pre>
<p>同时创建并赋值多个变量</p>
<pre><code>set @变量1=值1,@变量2=值2,…..
select 值1,值2,.. into @变量名,@变量名,..
</code></pre>
<p>查询语句中赋值</p>
<pre><code>select tname into @name from test1 where tid=1;
select @name;-- 输出变量的值
</code></pre>
<h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a><strong><font color=#87CEFA>局部变量</font></strong></h3><p>特点</p>
<pre><code>只能在函数、存储过程、触发器中定义
必须使用declare声明
不需要前缀，但注意不要和表名列名同名，为了避免冲突可以给变量前加n的前缀
</code></pre>
<p>使用</p>
<pre><code>create function fn_test1(id int) returns int
begin
declare ncount int;-- 定义变量，没有初始值的
set ncount=0; -- 设置初始值
declare ncount int default 0;  -- 声明并赋初始值
同时声明多个变量（要求变量的类型一致）declare nnum1,nnum2 int default 0;
在SQL语句中给变量赋值
select count(*) into ncount from city where cid=id;
return ncount;  -- 返回结果
End
</code></pre>
<h2 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a><strong><font color=#87CEFA>流程控制语句</font></strong></h2><p>if语句</p>
<pre><code>if 条件 then 
    代码块
elseif 条件 THEN
    代码块
ELSE
    代码块
end if;
</code></pre>
<p>while语句</p>
<pre><code>while 条件表达式 do
    循环体;
end while;
中断循环：leave

跳出本次循环：iterate
可以使用别名：aa:
</code></pre>
<p>case语句</p>
<pre><code>语法1：等值判断
    case 列
    when 列等值 then 值
    when 列等值 then 值
    …
    else 值
    end;

语法2：表达式形式(可扩展性更强)
    case 
    when 表达式 then 值
    when 表达式 then 值
    …
    else 值
    end;
</code></pre>
<hr>
<h1 id="索引和视图"><a href="#索引和视图" class="headerlink" title="索引和视图"></a><strong><font color=#87CEFA>索引和视图</font></strong></h1><h2 id="视图（看得见的一张虚拟表）"><a href="#视图（看得见的一张虚拟表）" class="headerlink" title="视图（看得见的一张虚拟表）"></a><strong><font color=#87CEFA>视图（看得见的一张虚拟表）</font></strong></h2><p>视图中实际就是保存一条select查询语句，视图中的数据来源于数据表，那么视图数据来源于的数据表称之为视图的基表，而视图称之为虚表</p>
<h3 id="视图的作用"><a href="#视图的作用" class="headerlink" title="视图的作用"></a><strong><font color=#87CEFA>视图的作用</font></strong></h3><p>保证数据的隐私性</p>
<pre><code>普通员工不能查看工资，单独创建一个普通员工可查看的视图屏蔽工资
</code></pre>
<p>简化查询</p>
<pre><code>将复杂的查询封装到视图中，可以简化查询
</code></pre>
<p>注意</p>
<pre><code>通常情况下视图是不应该被修改的，但如果视图被修改，基表也会被修改，当然如果列在基表中是不存在的，则修改会报错
</code></pre>
<h3 id="创建视图的语法"><a href="#创建视图的语法" class="headerlink" title="创建视图的语法"></a><strong><font color=#87CEFA>创建视图的语法</font></strong></h3><pre><code>drop view if exists view_Orders;
create view view_Orders
as
select a.*,b.CusNick from orders a,customers b where a.CusID=b.CusID;
</code></pre>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a><strong><font color=#87CEFA>使用</font></strong></h3><pre><code>和普通表使用方式一样
select * from view_orders;
</code></pre>
<h3 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a><strong><font color=#87CEFA>删除视图</font></strong></h3><pre><code>drop view 视图名;
</code></pre>
<h3 id="修改视图"><a href="#修改视图" class="headerlink" title="修改视图"></a><strong><font color=#87CEFA>修改视图</font></strong></h3><pre><code>alter view view_Orders
as
select a.*,b.CusNick from orders a,customers b where a.CusID=b.CusID;
</code></pre>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a><strong><font color=#87CEFA>索引</font></strong></h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a><strong><font color=#87CEFA>作用</font></strong></h3><p>提高查询效率</p>
<h3 id="索引的分类"><a href="#索引的分类" class="headerlink" title="索引的分类"></a><strong><font color=#87CEFA>索引的分类</font></strong></h3><h4 id="聚集索引"><a href="#聚集索引" class="headerlink" title="聚集索引"></a><strong><font color=#87CEFA>聚集索引</font></strong></h4><p>一张表最多只能有一个   存储顺序和表数据顺序一致(物理顺序)</p>
<h4 id="非聚集索引"><a href="#非聚集索引" class="headerlink" title="非聚集索引"></a><strong><font color=#87CEFA>非聚集索引</font></strong></h4><p>一张表可以有多个     存储顺序不一定和表数据一致(逻辑顺序)</p>
<img src="/imgs/sql03.png">

<p>注意: 创建主键时自动创建了聚集索引 </p>
<h3 id="创建索引语法"><a href="#创建索引语法" class="headerlink" title="创建索引语法"></a><strong><font color=#87CEFA>创建索引语法</font></strong></h3><pre><code>create index 索引名 on 表名(列名)
</code></pre>
<h3 id="删除索引语法"><a href="#删除索引语法" class="headerlink" title="删除索引语法"></a><strong><font color=#87CEFA>删除索引语法</font></strong></h3><pre><code>drop index 索引名 on 表名
</code></pre>
<h3 id="索引总结"><a href="#索引总结" class="headerlink" title="索引总结"></a><strong><font color=#87CEFA>索引总结</font></strong></h3><pre><code>1.目的提高查询效率
2.数据量很大时才使用索引
3.索引不是越多越好，增删改都会去维护索引（所以索引影响增删改的效率）
4.索引一般创建在作为查询条件比较多的列上
比如：数据量少，列的值少（性别只有男女），经常需要修改的列不适合创建索引
</code></pre>
<hr>
<h1 id="存储过程和事务"><a href="#存储过程和事务" class="headerlink" title="存储过程和事务"></a><strong><font color=#87CEFA>存储过程和事务</font></strong></h1><h2 id="存储过程（procedure）"><a href="#存储过程（procedure）" class="headerlink" title="存储过程（procedure）"></a><strong><font color=#87CEFA>存储过程（procedure）</font></strong></h2><h3 id="什么是存储过程"><a href="#什么是存储过程" class="headerlink" title="什么是存储过程"></a><strong><font color=#87CEFA>什么是存储过程</font></strong></h3><p>将多个增删改查语句封装在一起，用于处理复杂的逻辑过程（类似函数）</p>
<h3 id="创建存储过程（无参无返回）"><a href="#创建存储过程（无参无返回）" class="headerlink" title="创建存储过程（无参无返回）"></a><strong><font color=#87CEFA>创建存储过程（无参无返回）</font></strong></h3><pre><code>create procedure 存储过程名()
begin
    存储过程语句;
End
</code></pre>
<h3 id="调用存储过程"><a href="#调用存储过程" class="headerlink" title="调用存储过程"></a><strong><font color=#87CEFA>调用存储过程</font></strong></h3><pre><code>call 存储过程名称();
</code></pre>
<h3 id="创建存储过程（有参有返回）"><a href="#创建存储过程（有参有返回）" class="headerlink" title="创建存储过程（有参有返回）"></a><strong><font color=#87CEFA>创建存储过程（有参有返回）</font></strong></h3><pre><code>DROP PROCEDURE IF EXISTS pro_test2;
DELIMITER $$
create procedure 存储过程名(in 参数名 数据类型,out 参数名 数据类型,…)
begin
        存储过程语句;   
    //输出参数只需要在存储过程中赋值，不需要使用return返回
End $$
</code></pre>
<h3 id="调用存储过程-1"><a href="#调用存储过程-1" class="headerlink" title="调用存储过程"></a><strong><font color=#87CEFA>调用存储过程</font></strong></h3><pre><code>set @value=值; //初始化变量用于接收返回值
call 存储过程名称(传入的参数值,@value,…);
select @value;

in: 表示输入参数
out:表示输出参数（返回值）
</code></pre>
<h3 id="删除存储过程"><a href="#删除存储过程" class="headerlink" title="删除存储过程"></a><strong><font color=#87CEFA>删除存储过程</font></strong></h3><pre><code>drop procedure 存储过程名称
</code></pre>
<h3 id="存储过程与函数的区别"><a href="#存储过程与函数的区别" class="headerlink" title="存储过程与函数的区别"></a><strong><font color=#87CEFA>存储过程与函数的区别</font></strong></h3><p>1.函数只能返回一个值，存储过程使用输出参数输出值，可定义多个输出参数</p>
<p>2.函数可以嵌入到SQL语句中使用，存储过程是独立调用</p>
<p>3.函数中不能使用select语句返回结果集，存储过程可以返回结果集</p>
<p>4.应用程序可以独立调用存储过程，而不能直接调用函数</p>
<h2 id="事务（transaction）"><a href="#事务（transaction）" class="headerlink" title="事务（transaction）"></a><strong><font color=#87CEFA>事务（transaction）</font></strong></h2><h3 id="事务的概念"><a href="#事务的概念" class="headerlink" title="事务的概念"></a><strong><font color=#87CEFA>事务的概念</font></strong></h3><p>要么都执行，要么都不执行</p>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a><strong><font color=#87CEFA>应用场景</font></strong></h3><p>银行转账：A账号转账给B账号，A账号金额减少B账号金额增加。</p>
<p>A减了，B才能加</p>
<h3 id="事务具备四个属性特征，简称ACID-属性"><a href="#事务具备四个属性特征，简称ACID-属性" class="headerlink" title="事务具备四个属性特征，简称ACID 属性"></a><strong><font color=#87CEFA>事务具备四个属性特征，简称ACID 属性</font></strong></h3><p>1.原子性：事务是一个完整的操作，是一个不可再拆分的整体</p>
<p>2.一致性：要么都执行要么都不执行</p>
<p>3.隔离性：并发事务之间，不依赖于或影响其他事务</p>
<p>4.永久性：事务完成后,它对数据库的修改被永久保持</p>
<h3 id="SQL语句实现事务管理"><a href="#SQL语句实现事务管理" class="headerlink" title="SQL语句实现事务管理"></a><strong><font color=#87CEFA>SQL语句实现事务管理</font></strong></h3><pre><code>开启事务：start transaction
提交事务：commit
回滚事务：rollback
语法
    声明如果发生SQL异常，那么就要回滚事务并且提出程序（执行失败）
    DECLARE EXIT HANDLER FOR SQLEXCEPTION ROLLBACK;
    开始事务
    START TRANSACTION;
        执行语句
    提交事务：同步数据表（执行成功）
    COMMIT;
</code></pre>
<hr>
<h1 id="索引触发器和游标和视图"><a href="#索引触发器和游标和视图" class="headerlink" title="索引触发器和游标和视图"></a><strong><font color=#87CEFA>索引触发器和游标和视图</font></strong></h1><h2 id="触发器（trigger）"><a href="#触发器（trigger）" class="headerlink" title="触发器（trigger）"></a><strong><font color=#87CEFA>触发器（trigger）</font></strong></h2><p>有点类似于事件，在对数据增删改操作过程中触发并执行相应行为</p>
<h3 id="触发器种类"><a href="#触发器种类" class="headerlink" title="触发器种类"></a><strong><font color=#87CEFA>触发器种类</font></strong></h3><pre><code>insert
update
Delete  
</code></pre>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a><strong><font color=#87CEFA>说明</font></strong></h3><p>为表创建对应的触发器，当对表进行相应的操作时，就会触发对应的触发器程序</p>
<h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a><strong><font color=#87CEFA>作用</font></strong></h3><p>1.实现检查约束</p>
<p>2.实现关联操作</p>
<h3 id="创建语法"><a href="#创建语法" class="headerlink" title="创建语法"></a><strong><font color=#87CEFA>创建语法</font></strong></h3><pre><code>CREATE TRIGGER assess_insert BEFORE （INSERT / UPDATE / DETELE） ON assess FOR EACH ROW
BEGIN
        if(CHAR_LENGTH(new.assContent)&lt;5)THEN
            -- 没有满足要求故意写一条报错语句阻止插入
            insert into aa values(‘aa’);
        END IF;
END;
</code></pre>
<h3 id="关于new与old"><a href="#关于new与old" class="headerlink" title="关于new与old"></a><strong><font color=#87CEFA>关于new与old</font></strong></h3><pre><code>new：
    添加的数据存储在new中，使用new.字段来获取

old：
    删除的数据

insert触发器
    添加的数据在new中

delete触发器
    需要删除的数据在old中

update触发器
    修改前的数据在old中
    修改后的数据在new中
</code></pre>
<p>注意事项</p>
<pre><code>1.一个表每种类型的触发器只能有一个
2.在触发器中不能使用select语句显示结果集
</code></pre>
<h2 id="游标-cursor"><a href="#游标-cursor" class="headerlink" title="游标(cursor)"></a><strong><font color=#87CEFA>游标(cursor)</font></strong></h2><p>游标是一种查询方式</p>
<pre><code>普通查询
    一次性把所有结果显示
        select * from bbstopic

游标查询
    一行一行的查
</code></pre>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a><strong><font color=#87CEFA>语法</font></strong></h3><pre><code>第一步：声明游标
declare 游标名 cursor for select语句;
报错则退出
DECLARE EXIT HANDLER FOR 错误类型 CLOSE 游标名;
第二步：打开游标
open 游标名;
第三步：从游标中获取数据
fetch 游标名 into 变量名1，变量名2…;
第四步：关闭游标
close 游标名;
</code></pre>
<h3 id="从游标中获取数据时"><a href="#从游标中获取数据时" class="headerlink" title="从游标中获取数据时"></a><strong><font color=#87CEFA>从游标中获取数据时</font></strong></h3><p>1.into后面的变量个数，类型要与select语句查询的列一致</p>
<p>2.一次只能读取一条记录，需要使用循环</p>
<p>3.读取到最后如果没有记录时，会有1329异常来终止循环程序的错误处理</p>
<p>语句</p>
<pre><code>declare 错误处理方式 handler for 错误类型 自定义错误处理代码;
</code></pre>
<p>错误处理方式</p>
<pre><code>continue：遇到错误后，执行自定义错误处理代码，再继续执行SQL语句
exit：遇到错误后，执行自定义错误处理代码并退出
</code></pre>
<p>错误类型</p>
<pre><code>错误编码：捕获特定的错误，例如1452(外键约束错误等)
sqlexception：捕获所有的错误
</code></pre>
<p>自定义错误代码</p>
<pre><code>单行代码
多行代码：在begin..end中编写
</code></pre>
<hr>
<h1 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a><strong><font color=#87CEFA>数据库设计</font></strong></h1><h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a><strong><font color=#87CEFA>需求分析</font></strong></h2><pre><code>标识实体
    矩形
标识属性
    椭圆
标识关系
    菱形
</code></pre>
<h3 id="映射基数"><a href="#映射基数" class="headerlink" title="映射基数"></a><strong><font color=#87CEFA>映射基数</font></strong></h3><pre><code>1对1
1对多（M）
多对多
    M对N
</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">DaiBlogger</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/02/25/MySQL%E6%80%9D%E7%BB%B4%E5%BC%95%E5%AF%BC/">http://example.com/2023/02/25/MySQL%E6%80%9D%E7%BB%B4%E5%BC%95%E5%AF%BC/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">DaiBlogger</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/helloWorld.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/02/26/js%E6%80%9D%E7%BB%B4%E5%BC%95%E5%AF%BC/" title="js思维引导"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">js思维引导</div></div></a></div><div class="next-post pull-right"><a href="/2023/02/24/HTML-CSS/" title="HTML_CSS"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HTML_CSS</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/helloWorld.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">DaiBlogger</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/javagogoing/javagogoing.github.io.git"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">MySQL数据库的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">MySQL简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE%E5%90%8E%E8%BF%9B%E5%85%A5MySQL"><span class="toc-number">1.2.</span> <span class="toc-text">MySQL安装和配置后进入MySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CMD%E5%91%BD%E4%BB%A4%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.</span> <span class="toc-text">CMD命令进行操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Navicat%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">Navicat的安装和使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">数据库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.5.1.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.2.</span> <span class="toc-text">查看某个数据库的创建语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">1.5.3.</span> <span class="toc-text">创建数据库指定字符集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">1.5.4.</span> <span class="toc-text">修改字符集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.5.5.</span> <span class="toc-text">查看所有数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%AD%A3%E5%9C%A8%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.5.6.</span> <span class="toc-text">查看正在使用数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.5.7.</span> <span class="toc-text">删除数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%E5%89%8D%E5%88%A4%E6%96%AD%EF%BC%8C%E5%AD%98%E5%9C%A8%E6%89%8D%E5%88%A0%E9%99%A4"><span class="toc-number">1.5.8.</span> <span class="toc-text">删除数据库前判断，存在才删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%9C%A8%E5%88%99%E5%88%A0%E9%99%A4%E5%86%8D%E5%BB%BA"><span class="toc-number">1.5.9.</span> <span class="toc-text">如果数据库存在则删除再建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.5.10.</span> <span class="toc-text">选择数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.5.11.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB%E3%80%81%E5%A4%87%E4%BB%BD%E3%80%81%E8%BF%98%E5%8E%9F"><span class="toc-number">1.5.12.</span> <span class="toc-text">MySQL数据库迁移、备份、还原</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8sql%E8%AF%AD%E5%8F%A5%E8%BF%81%E7%A7%BB"><span class="toc-number">1.5.12.1.</span> <span class="toc-text">使用sql语句迁移</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E5%92%8C%E8%BF%98%E5%8E%9F%E5%A4%87%E4%BB%BD"><span class="toc-number">1.5.12.2.</span> <span class="toc-text">备份和还原备份</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E7%BA%A6%E6%9D%9F"><span class="toc-number">2.</span> <span class="toc-text">数据类型与约束</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.1.</span> <span class="toc-text">表的操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">表的其他操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E7%AC%A6%E5%8F%B7%EF%BC%88unsigned%EF%BC%89"><span class="toc-number">2.3.</span> <span class="toc-text">无符号（unsigned）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-number">2.4.</span> <span class="toc-text">约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-primary-key"><span class="toc-number">2.4.1.</span> <span class="toc-text">主键约束: primary key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E5%88%97%EF%BC%88%E8%87%AA%E5%A2%9E%EF%BC%89%EF%BC%9Aauto-increment"><span class="toc-number">2.4.2.</span> <span class="toc-text">	标识列（自增）：auto_increment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E9%94%AE%EF%BC%9Aunique"><span class="toc-number">2.4.3.</span> <span class="toc-text">唯一键：unique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9Anot-null"><span class="toc-number">2.4.4.</span> <span class="toc-text">	非空约束：not null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F%EF%BC%9Adefault"><span class="toc-number">2.4.5.</span> <span class="toc-text">	默认约束：default</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%EF%BC%9Aforeign-key"><span class="toc-number">2.4.6.</span> <span class="toc-text">	外键约束：foreign key</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">数据的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">3.1.</span> <span class="toc-text">增删改查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E"><span class="toc-number">3.1.1.</span> <span class="toc-text">增</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0"><span class="toc-number">3.1.2.</span> <span class="toc-text">删</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B9"><span class="toc-number">3.1.3.</span> <span class="toc-text">改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5"><span class="toc-number">3.1.4.</span> <span class="toc-text">查</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#group-concat-%E5%87%BD%E6%95%B0"><span class="toc-number">3.1.4.1.</span> <span class="toc-text">group_concat()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5-%E6%9F%A5%E8%AF%A2%E9%83%A8%E5%88%86%E8%A1%8C-%EF%BC%9Alimit"><span class="toc-number">3.1.4.2.</span> <span class="toc-text">分页(查询部分行)：limit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%EF%BC%9Adistinct"><span class="toc-number">3.1.4.3.</span> <span class="toc-text">去除重复数据：distinct</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5"><span class="toc-number">3.2.</span> <span class="toc-text">多表联查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">连接方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#union"><span class="toc-number">3.2.2.</span> <span class="toc-text">	union</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#union-all"><span class="toc-number">3.2.3.</span> <span class="toc-text">union all</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">高级查询（子查询）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">聚合函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">日期函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E8%BF%90%E7%AE%97"><span class="toc-number">5.2.1.</span> <span class="toc-text">日期运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%8D%95%E4%BD%8D"><span class="toc-number">5.2.2.</span> <span class="toc-text">日期单位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.2.3.</span> <span class="toc-text">格式转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"><span class="toc-number">5.3.</span> <span class="toc-text">数字函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.</span> <span class="toc-text">字符串函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#md5"><span class="toc-number">5.5.</span> <span class="toc-text">md5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">5.6.</span> <span class="toc-text">类型转换函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="toc-number">5.7.</span> <span class="toc-text">条件函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">5.8.</span> <span class="toc-text">自定义函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">5.8.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8"><span class="toc-number">5.8.2.</span> <span class="toc-text">调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%87%BD%E6%95%B0"><span class="toc-number">5.8.3.</span> <span class="toc-text">删除函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E7%BC%96%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">sql编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text">变量的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="toc-number">6.1.1.</span> <span class="toc-text">系统变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F"><span class="toc-number">6.1.2.</span> <span class="toc-text">会话变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">6.1.3.</span> <span class="toc-text">局部变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.2.</span> <span class="toc-text">流程控制语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%92%8C%E8%A7%86%E5%9B%BE"><span class="toc-number">7.</span> <span class="toc-text">索引和视图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%EF%BC%88%E7%9C%8B%E5%BE%97%E8%A7%81%E7%9A%84%E4%B8%80%E5%BC%A0%E8%99%9A%E6%8B%9F%E8%A1%A8%EF%BC%89"><span class="toc-number">7.1.</span> <span class="toc-text">视图（看得见的一张虚拟表）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">7.1.1.</span> <span class="toc-text">视图的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-number">7.1.2.</span> <span class="toc-text">创建视图的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">7.1.3.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="toc-number">7.1.4.</span> <span class="toc-text">删除视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE"><span class="toc-number">7.1.5.</span> <span class="toc-text">修改视图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">7.2.</span> <span class="toc-text">索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">7.2.1.</span> <span class="toc-text">作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">7.2.2.</span> <span class="toc-text">索引的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">聚集索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95"><span class="toc-number">7.2.2.2.</span> <span class="toc-text">非聚集索引</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%E8%AF%AD%E6%B3%95"><span class="toc-number">7.2.3.</span> <span class="toc-text">创建索引语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95%E8%AF%AD%E6%B3%95"><span class="toc-number">7.2.4.</span> <span class="toc-text">删除索引语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E6%80%BB%E7%BB%93"><span class="toc-number">7.2.5.</span> <span class="toc-text">索引总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E4%BA%8B%E5%8A%A1"><span class="toc-number">8.</span> <span class="toc-text">存储过程和事务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%88procedure%EF%BC%89"><span class="toc-number">8.1.</span> <span class="toc-text">存储过程（procedure）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">8.1.1.</span> <span class="toc-text">什么是存储过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%88%E6%97%A0%E5%8F%82%E6%97%A0%E8%BF%94%E5%9B%9E%EF%BC%89"><span class="toc-number">8.1.2.</span> <span class="toc-text">创建存储过程（无参无返回）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">8.1.3.</span> <span class="toc-text">调用存储过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%88%E6%9C%89%E5%8F%82%E6%9C%89%E8%BF%94%E5%9B%9E%EF%BC%89"><span class="toc-number">8.1.4.</span> <span class="toc-text">创建存储过程（有参有返回）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B-1"><span class="toc-number">8.1.5.</span> <span class="toc-text">调用存储过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">8.1.6.</span> <span class="toc-text">删除存储过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">8.1.7.</span> <span class="toc-text">存储过程与函数的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%EF%BC%88transaction%EF%BC%89"><span class="toc-number">8.2.</span> <span class="toc-text">事务（transaction）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">8.2.1.</span> <span class="toc-text">事务的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">8.2.2.</span> <span class="toc-text">应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%85%B7%E5%A4%87%E5%9B%9B%E4%B8%AA%E5%B1%9E%E6%80%A7%E7%89%B9%E5%BE%81%EF%BC%8C%E7%AE%80%E7%A7%B0ACID-%E5%B1%9E%E6%80%A7"><span class="toc-number">8.2.3.</span> <span class="toc-text">事务具备四个属性特征，简称ACID 属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E8%AF%AD%E5%8F%A5%E5%AE%9E%E7%8E%B0%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">8.2.4.</span> <span class="toc-text">SQL语句实现事务管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E8%A7%A6%E5%8F%91%E5%99%A8%E5%92%8C%E6%B8%B8%E6%A0%87%E5%92%8C%E8%A7%86%E5%9B%BE"><span class="toc-number">9.</span> <span class="toc-text">索引触发器和游标和视图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%88trigger%EF%BC%89"><span class="toc-number">9.1.</span> <span class="toc-text">触发器（trigger）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8%E7%A7%8D%E7%B1%BB"><span class="toc-number">9.1.1.</span> <span class="toc-text">触发器种类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">9.1.2.</span> <span class="toc-text">说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-1"><span class="toc-number">9.1.3.</span> <span class="toc-text">作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%AF%AD%E6%B3%95"><span class="toc-number">9.1.4.</span> <span class="toc-text">创建语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Enew%E4%B8%8Eold"><span class="toc-number">9.1.5.</span> <span class="toc-text">关于new与old</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B8%E6%A0%87-cursor"><span class="toc-number">9.2.</span> <span class="toc-text">游标(cursor)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">9.2.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E6%B8%B8%E6%A0%87%E4%B8%AD%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E6%97%B6"><span class="toc-number">9.2.2.</span> <span class="toc-text">从游标中获取数据时</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.</span> <span class="toc-text">数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">10.1.</span> <span class="toc-text">需求分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E5%9F%BA%E6%95%B0"><span class="toc-number">10.1.1.</span> <span class="toc-text">映射基数</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/22/zookeeper%E6%80%BB%E7%BB%93/" title="zookeeper总结">zookeeper总结</a><time datetime="2023-03-22T12:27:32.000Z" title="发表于 2023-03-22 20:27:32">2023-03-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/20/Dubbo%E6%80%BB%E7%BB%93/" title="Dubbo总结">Dubbo总结</a><time datetime="2023-03-20T05:12:22.000Z" title="发表于 2023-03-20 13:12:22">2023-03-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/17/MyBatis%E6%80%BB%E7%BB%93/" title="MyBatis总结">MyBatis总结</a><time datetime="2023-03-17T01:46:52.000Z" title="发表于 2023-03-17 09:46:52">2023-03-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/16/SpringSecurity%E6%80%BB%E7%BB%93/" title="SpringSecurity总结">SpringSecurity总结</a><time datetime="2023-03-16T03:33:03.000Z" title="发表于 2023-03-16 11:33:03">2023-03-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/15/springMVC%E6%80%BB%E7%BB%93/" title="springMVC总结">springMVC总结</a><time datetime="2023-03-15T08:40:09.000Z" title="发表于 2023-03-15 16:40:09">2023-03-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By DaiBlogger</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>